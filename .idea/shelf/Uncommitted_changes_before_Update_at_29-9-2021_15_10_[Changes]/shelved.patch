Index: database.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\nfunction connectToDatabase() {\r\n    $Connection = null;\r\n\r\n    mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT); // Set MySQLi to throw exceptions\r\n    try {\r\n        $Connection = mysqli_connect(\"localhost\", \"root\", \"root\", \"nerdygadgets\");\r\n        mysqli_set_charset($Connection, 'latin1');\r\n        $DatabaseAvailable = true;\r\n    } catch (mysqli_sql_exception $e) {\r\n        $DatabaseAvailable = false;\r\n    }\r\n    if (!$DatabaseAvailable) {\r\n        ?><h2>Website wordt op dit moment onderhouden, database connectie is mislukt</h2><?php\r\n        die();\r\n    }\r\n\r\n    return $Connection;\r\n}\r\n\r\nfunction getHeaderStockGroups($databaseConnection) {\r\n    $Query = \"\r\n                SELECT StockGroupID, StockGroupName, ImagePath\r\n                FROM stockgroups \r\n                WHERE StockGroupID IN (\r\n                                        SELECT StockGroupID \r\n                                        FROM stockitemstockgroups\r\n                                        ) AND ImagePath IS NOT NULL\r\n                ORDER BY StockGroupID ASC\";\r\n    $Statement = mysqli_prepare($databaseConnection, $Query);\r\n    mysqli_stmt_execute($Statement);\r\n    $HeaderStockGroups = mysqli_stmt_get_result($Statement);\r\n    return $HeaderStockGroups;\r\n}\r\n\r\nfunction getStockGroups($databaseConnection) {\r\n    $Query = \"\r\n            SELECT StockGroupID, StockGroupName, ImagePath\r\n            FROM stockgroups \r\n            WHERE StockGroupID IN (\r\n                                    SELECT StockGroupID \r\n                                    FROM stockitemstockgroups\r\n                                    ) AND ImagePath IS NOT NULL\r\n            ORDER BY StockGroupID ASC\";\r\n    $Statement = mysqli_prepare($databaseConnection, $Query);\r\n    mysqli_stmt_execute($Statement);\r\n    $Result = mysqli_stmt_get_result($Statement);\r\n    $StockGroups = mysqli_fetch_all($Result, MYSQLI_ASSOC);\r\n    return $StockGroups;\r\n}\r\n\r\nfunction getStockItem($id, $databaseConnection) {\r\n    $Result = null;\r\n\r\n    $Query = \" \r\n           SELECT SI.StockItemID, \r\n            (RecommendedRetailPrice*(1+(TaxRate/100))) AS SellPrice, \r\n            StockItemName,\r\n            CONCAT('Voorraad: ',QuantityOnHand)AS QuantityOnHand,\r\n            SearchDetails, \r\n            (CASE WHEN (RecommendedRetailPrice*(1+(TaxRate/100))) > 50 THEN 0 ELSE 6.95 END) AS SendCosts, MarketingComments, CustomFields, SI.Video,\r\n            (SELECT ImagePath FROM stockgroups JOIN stockitemstockgroups USING(StockGroupID) WHERE StockItemID = SI.StockItemID LIMIT 1) as BackupImagePath   \r\n            FROM stockitems SI \r\n            JOIN stockitemholdings SIH USING(stockitemid)\r\n            JOIN stockitemstockgroups ON SI.StockItemID = stockitemstockgroups.StockItemID\r\n            JOIN stockgroups USING(StockGroupID)\r\n            WHERE SI.stockitemid = ?\r\n            GROUP BY StockItemID\";\r\n\r\n    $Statement = mysqli_prepare($databaseConnection, $Query);\r\n    mysqli_stmt_bind_param($Statement, \"i\", $id);\r\n    mysqli_stmt_execute($Statement);\r\n    $ReturnableResult = mysqli_stmt_get_result($Statement);\r\n    if ($ReturnableResult && mysqli_num_rows($ReturnableResult) == 1) {\r\n        $Result = mysqli_fetch_all($ReturnableResult, MYSQLI_ASSOC)[0];\r\n    }\r\n\r\n    return $Result;\r\n}\r\n\r\nfunction getStockItemImage($id, $databaseConnection) {\r\n\r\n    $Query = \"\r\n                SELECT ImagePath\r\n                FROM stockitemimages \r\n                WHERE StockItemID = ?\";\r\n\r\n    $Statement = mysqli_prepare($databaseConnection, $Query);\r\n    mysqli_stmt_bind_param($Statement, \"i\", $id);\r\n    mysqli_stmt_execute($Statement);\r\n    $R = mysqli_stmt_get_result($Statement);\r\n    $R = mysqli_fetch_all($R, MYSQLI_ASSOC);\r\n\r\n    return $R;\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/database.php b/database.php
--- a/database.php	(revision 66ec7769fb3170c7804bbea9358091c3262d7e0d)
+++ b/database.php	(date 1632921002876)
@@ -5,7 +5,7 @@
 
     mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT); // Set MySQLi to throw exceptions
     try {
-        $Connection = mysqli_connect("localhost", "root", "root", "nerdygadgets");
+        $Connection = mysqli_connect("localhost", "root", "", "nerdygadgets");
         mysqli_set_charset($Connection, 'latin1');
         $DatabaseAvailable = true;
     } catch (mysqli_sql_exception $e) {
